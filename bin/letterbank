#!/usr/bin/python

def bitHash(s):
    a=0
    for c in s:
        n = ord(c)-65
        a |= 1<<n
    return a

def Letterbank(word):
    '''
    >>> Letterbank('ratesz')
    ['ERSATZ', 'ERSATZES']
    '''
    letters = word.upper()
    value = bitHash(letters)

    l = len(letters)+1 # To avoid stripping of the '\n' before comparing

    wordlist = open("/home/tom/share/dict/word.lst",'r').readlines()
    results = []
    for line in wordlist:
        line = line.rstrip()
        lineValue = bitHash(line)
        if value == lineValue:
            results.append(line) 
    return results

if __name__ == '__main__':
    import sys

    if len(sys.argv) > 1:
	for letters in sys.argv[1:]:
	    for word in Letterbank(letters):
		print word,
	    print
    else:
	print "Executing DocTests..."
	import doctest      
	doctest.testmod()

